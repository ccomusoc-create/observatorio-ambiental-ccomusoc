<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Observatorio Ambiental - Argentina</title>
<style>
body { font-family: Arial; background: white; color: black; padding: 20px; }
h1, h2 { margin-bottom: 10px; }
img { max-width: 100%; margin-top: 20px; }
table { border-collapse: collapse; width: 100%; margin-top: 20px; }
th, td { border: 1px solid black; padding: 8px; }
th { background-color: #eee; }
a { color: blue; text-decoration: none; }
</style>
</head>
<body>
<h1>Observatorio Ambiental - Argentina</h1>
<h2>Últimas noticias</h2>
<table>
<thead>
<tr><th>Fecha</th><th>Tema</th><th>Título</th><th>Link</th></tr>
</thead>
<tbody id="noticias"></tbody>
</table>

<h2>Gráfico de picos por tema</h2>
<img src="charts/picos.png" alt="Gráfico de picos">

<script>
fetch('data/ambiental.csv')
.then(r => r.text())
.then(text => {
    const filas = text.trim().split('\n').slice(1);
    const tbody = document.getElementById('noticias');
    filas.slice(0, 20).forEach(fila => {
        const [id, fecha, tema, titulo, link] = fila.split(',');
        const tr = document.createElement('tr');
        tr.innerHTML = `<td>${fecha}</td><td>${tema}</td><td>${titulo}</td><td><a href="${link}" target="_blank">Ver</a></td>`;
        tbody.appendChild(tr);
    });
});
</script>
</body>
</html>
